@model AdvertisingAgency.Models.Orders

@{
    ViewData["Title"] = "Edit";
}

<h2>Изменить</h2>
@using (Html.BeginForm("Edit", "Order", FormMethod.Post))
{
    <div asp-validation-summary="ModelOnly"></div>
    <div class="form-group">
        <input type="hidden" asp-for="OrdersId" />
    </div>
    <div class="form-group">
    <select name="CustomersId">
    {
      @{
          List<Customers> customers = (List<Customers>)ViewBag.customers;
          foreach (var item in customers)
          {
              if (Model.CustomersId == item.CustomersId)
              {

                    <option value=@item.CustomerName selected>@item.CustomerName</option>
               }
               else
               {
                    <option value=@item.CustomerName>@item.CustomerName</option>
               }
          }
       }
     }
    </select>
    </div>
    <div class="form-group">
        <select name="AdvedirsmentsId">
            {
            @{
                List<Advedirsments> advedirsments = (List<Advedirsments>)ViewBag.advedirsments;
                foreach (var item in advedirsments)
                {
                    if (Model.AdvedirsmentsId == item.AdvedirsmentsId)
                    {
                        <option value=@item.AdvedirsmentsId selected>@item.AdvedirsmentsId</option>
                    }
                    else
                    {
                        <option value=@item.AdvedirsmentsId>@item.AdvedirsmentsId</option>
                    }
                }
            }
            }
        </select>
    </div>
    <div class="form-group">
        <label asp-for="DateOrder" class="control-label">Дата заказа</label>
        @{
            DateTime tmp = Convert.ToDateTime(Model.DateOrder);
            string n = tmp.ToString("yyyy-MM-dd");
        }
        <input type="date" asp-for="DateOrder" class="form-control" value="@n" />
    </div>
    <div class="form-group">
        <label asp-for="DateBegin" class="control-label">Дата начала работы</label>
        @{
            tmp = Convert.ToDateTime(Model.DateBegin);
            n = tmp.ToString("yyyy-MM-dd");
        }
        <input type="date" asp-for="DateBegin" class="form-control" value="@n" />
    </div>
    <div class="form-group">
        <label asp-for="DateEnd" class="control-label">Дата окончания работы</label>
        @{
            tmp = Convert.ToDateTime(Model.DateEnd);
            n = tmp.ToString("yyyy-MM-dd");
        }
        <input type="date" asp-for="DateEnd" class="form-control" value="@n" />
    </div>
    <div class="form-group">
        <label asp-for="Location" class="control-label">Место расположения</label>
        <input type="text" asp-for="Location" class="form-control" />
    </div>
    <div class="form-group">
        <label asp-for="OrderCost" class="control-label">Цена услуги</label>
        <input type="text" asp-for="OrderCost" class="form-control" />
    </div>
    <div class="form-group">
        <input type="submit" value="Сохранить" class="btn btn-success" />
    </div>
}
